<html>
  <head>

    <title>CMASS data</title>

    <!-- load three.js library -->
    <script src="./three.js/build/three.js"></script>

    <!-- load script to include controls for panning and zooming -->
    <script src="./three.js/examples/js/controls/OrbitControls.js"></script>

    <style type="/text/css">
      body {
        margin: 0px;
        padding: 0px;
        }
    </style>

  </head>

  <body>

    <!-- get some choons in here -->
    <audio autoplay>
      <!-- choons are Bela Bartok's Mikrokosmos Nos 97-153 -->
      <source src="./choons.mp3" type="audio/mpeg">
    </audio>

    <script>

      // set scene dimensions
      var WIDTH = window.innerWidth,
          HEIGHT = window.innerHeight;
      var ASPECT = WIDTH / HEIGHT;

      // set the scene
      var scene = new THREE.Scene();

      // get the camera set up
      var camera = new THREE.PerspectiveCamera(60, ASPECT, 1, 10000);
      camera.position.set(0, 0, 5000);

      // and finally render
      var renderer = new THREE.WebGLRenderer( { antialias: false } );
      renderer.setClearColor( 0x000000, 1 );
      renderer.setSize( WIDTH, HEIGHT);

      document.body.appendChild(renderer.domElement);

      function render() {
          renderer.render( scene, camera );
      }

      // get the controls going
      var controls = new THREE.OrbitControls( camera );
      controls.addEventListener( 'change', render );


      // BEGIN PLOTTING

      var scatterPlot = new THREE.Object3D();
      scene.add(scatterPlot);

      // build the coordinate reference axes

      scatterPlot.rotation.y = 0.5;
      function v(x, y, z) {
        return new THREE.Vertex(new THREE.Vector3(x, y, z));
      }

      var lineGeo = new THREE.Geometry();
      lineGeo.vertices.push(
          // orthogonal axes
          v(-3000, 0, 0), v(3000, 0, 0),
          v(0, -3000, 0), v(0, 3000, 0),
          v(0, 0, -3000), v(0, 0, 3000)
          );

      var lineMat = new THREE.LineBasicMaterial({color: 0x00FF00, lineWidth: 1});
      var line = new THREE.Line(lineGeo, lineMat);
      line.type = THREE.Lines;
      scatterPlot.add(line);


      function animate() {
          requestAnimationFrame( animate );
          controls.update();
      }

      animate();


    </script>

  </body>


</html>
